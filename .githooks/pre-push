#!/bin/bash

# Store the current directory
current_dir=$(pwd)

echo "Running tests before push..."

# Run make test
make test

# Get the exit code of make test
test_result=$?

# If tests failed, prevent the push
if [ $test_result -ne 0 ]; then
    echo "❌ Tests failed. Please fix the tests before pushing."
    exit 1
fi

echo "✅ Tests passed. Proceeding with push."
exit 0
